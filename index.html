<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Cognitive Functions - Interactive</title>
    <style>
      body { font-family: Arial, sans-serif; padding: 20px; }
      h1 { color: #333; }
      .buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .button {
        flex: 1 1 22%;
        padding: 15px 20px;
        margin: 5px;
        background-color: #333;
        color: white;
        border: none;
        cursor: pointer;
        text-align: center;
        font-size: 14px;
        min-width: 150px;
      }
      .button:hover { background-color: #555; }
      .formula, .steps { margin-top: 20px; }
      .step { margin: 10px 0; }
      .functions-table { margin-top: 20px; overflow-x: auto; }
      table { width: 100%; border-collapse: collapse; }
      th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
      th { background-color: #f4f4f4; }
      @media (max-width: 768px) {
        .button {
          font-size: 12px;
          flex: 1 1 45%;
        }
      }
    </style>
  </head>
  <body>

    <h1>MBTI Cognitive Functions</h1>
    <div class="buttons">
      <button class="button" id="INTJ">INTJ</button>
      <button class="button" id="ENTP">ENTP</button>
      <button class="button" id="ISFJ">ISFJ</button>
      <button class="button" id="ISFP">ISFP</button>
      <button class="button" id="INFJ">INFJ</button>
      <button class="button" id="INFP">INFP</button>
      <button class="button" id="ESTJ">ESTJ</button>
      <button class="button" id="ESTP">ESTP</button>
      <button class="button" id="ESFJ">ESFJ</button>
      <button class="button" id="ESFP">ESFP</button>
      <button class="button" id="INTP">INTP</button>
      <button class="button" id="ENTJ">ENTJ</button>
      <button class="button" id="ENFP">ENFP</button>
      <button class="button" id="ENFJ">ENFJ</button>
      <button class="button" id="ISTJ">ISTJ</button>
      <button class="button" id="ISTP">ISTP</button>
    </div>

    <div class="steps" id="steps">
      <!-- Steps will be dynamically filled here -->
    </div>

    <div class="functions-table" id="functionsTable" style="display:none;">
      <h2>Top 4 Functions</h2>
      <table>
        <tr>
          <th>Function</th>
          <th>Explanation</th>
          <th>Beebe's Name</th>
        </tr>
        <tr>
          <td id="dominant">Ni</td>
          <td id="dominantExplanation">Focuses on internal visions and insights</td>
          <td>Dominant</td>
        </tr>
        <tr>
          <td id="auxiliary">Te</td>
          <td id="auxiliaryExplanation">Organizes and structures the external world</td>
          <td>Auxiliary</td>
        </tr>
        <tr>
          <td id="tertiary">Fi</td>
          <td id="tertiaryExplanation">Evaluates the world based on internal values</td>
          <td>Tertiary</td>
        </tr>
        <tr>
          <td id="inferior">Se</td>
          <td id="inferiorExplanation">Takes in immediate sensory data from the world</td>
          <td>Inferior</td>
        </tr>
      </table>

      <h2>Shadow Functions</h2>
      <table>
        <tr>
          <th>Function</th>
          <th>Explanation</th>
          <th>Beebe's Name</th>
        </tr>
        <tr>
          <td id="opposing">Ne</td>
          <td id="opposingExplanation">Seeks possibilities, patterns, and connections externally</td>
          <td>Opposing</td>
        </tr>
        <tr>
          <td id="criticalParent">Ti</td>
          <td id="criticalParentExplanation">Analyzes the world based on internal logic</td>
          <td>Critical Parent</td>
        </tr>
        <tr>
          <td id="trickster">Fe</td>
          <td id="tricksterExplanation">Considers external emotions and social dynamics</td>
          <td>Trickster</td>
        </tr>
        <tr>
          <td id="demon">Si</td>
          <td id="demonExplanation">Remembers past experiences and draws on sensory memory</td>
          <td>Demon</td>
        </tr>
      </table>
    </div>

    <script>
      const functionMap = {
        "INTJ": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Ni (Introverted Intuition)",
            "Step 2: N (Intuition) → Dominant function = Ni (Auxiliary will be Te, the extraverted counterpart of Intuition)",
            "Step 3: Tertiary Function = Fi (Introverted Feeling), opposite attitude of Dominant",
            "Step 4: Inferior Function = Se (Extraverted Sensing), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ne (Extraverted Intuition), opposite attitude of Dominant",
            "Critical Parent: Ti (Introverted Thinking), opposite attitude of Auxiliary",
            "Trickster: Fe (Extraverted Feeling), opposite attitude of Tertiary",
            "Demon: Si (Introverted Sensing), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ni",
            auxiliary: "Te",
            tertiary: "Fi",
            inferior: "Se",
            opposing: "Ne",
            criticalParent: "Ti",
            trickster: "Fe",
            demon: "Si"
          },
          explanations: {
            dominant: "Focuses on internal visions and insights, deeply considering abstract concepts and future possibilities",
            auxiliary: "Organizes and structures the external world using logical frameworks to implement long-term goals",
            tertiary: "Evaluates the world based on internal values and feelings, but often keeps them private and reserved",
            inferior: "Takes in immediate sensory data from the world but struggles with being present in the moment",
            opposing: "Seeks possibilities, patterns, and connections externally, but often dismisses them as less valuable",
            criticalParent: "Analyzes the world based on internal logic, but may ignore the emotional impact of their ideas",
            trickster: "Considers external emotions and social dynamics, but often struggles to express or engage with them",
            demon: "Remembers past experiences and draws on sensory memory, but may overlook or discount sensory information"
          }
        },
        "ENTP": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Ne (Extraverted Intuition)",
            "Step 2: N (Intuition) → Dominant function = Ne (Auxiliary will be Ti, the introverted counterpart of Intuition)",
            "Step 3: Tertiary Function = Fe (Extraverted Feeling), opposite attitude of Dominant",
            "Step 4: Inferior Function = Si (Introverted Sensing), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ni (Introverted Intuition), opposite attitude of Dominant",
            "Critical Parent: Te (Extraverted Thinking), opposite attitude of Auxiliary",
            "Trickster: Fi (Introverted Feeling), opposite attitude of Tertiary",
            "Demon: Se (Extraverted Sensing), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ne",
            auxiliary: "Ti",
            tertiary: "Fe",
            inferior: "Si",
            opposing: "Ni",
            criticalParent: "Te",
            trickster: "Fi",
            demon: "Se"
          },
          explanations: {
            dominant: "Seeks possibilities, patterns, and connections externally, thriving on exploring new ideas and theoretical frameworks",
            auxiliary: "Analyzes the world using internal logic, organizing and categorizing information in a structured manner",
            tertiary: "Considers external emotions and social dynamics, but often struggles to engage with or prioritize them in favor of logic",
            inferior: "Remembers past experiences and draws on sensory memory, but can find it challenging to rely on past information instead of future possibilities",
            opposing: "Focuses on internal visions and insights, but may dismiss them in favor of engaging with immediate, external ideas and possibilities",
            criticalParent: "Organizes and structures the world with a focus on external logic, but may dismiss emotional considerations or fail to consider their impact",
            trickster: "Evaluates the world based on internal values but may struggle to fully understand or express personal emotional reactions in a constructive way",
            demon: "Takes in immediate sensory data from the world but tends to find it overwhelming, preferring instead to focus on abstract possibilities"
          }
        },
        "ISFJ": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Si (Introverted Sensing)",
            "Step 2: S (Sensing) → Dominant function = Si (Auxiliary will be Fe, the extraverted counterpart of Sensing)",
            "Step 3: Tertiary Function = Ti (Introverted Thinking), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ne (Extraverted Intuition), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Se (Extraverted Sensing), opposite attitude of Dominant",
            "Critical Parent: Fi (Introverted Feeling), opposite attitude of Auxiliary",
            "Trickster: Te (Extraverted Thinking), opposite attitude of Tertiary",
            "Demon: Ni (Introverted Intuition), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Si",
            auxiliary: "Fe",
            tertiary: "Ti",
            inferior: "Ne",
            opposing: "Se",
            criticalParent: "Fi",
            trickster: "Te",
            demon: "Ni"
          },
          explanations: {
            dominant: "Remembers past experiences and draws on sensory memory to understand the world",
            auxiliary: "Considers external emotions and social dynamics, organizing and providing support to others",
            tertiary: "Analyzes the world based on internal logic, but may overlook the emotional impact of their ideas",
            inferior: "Seeks possibilities, patterns, and connections externally, but tends to avoid or undervalue this function",
            opposing: "Takes in immediate sensory data from the world, but may feel overwhelmed or distracted by it",
            criticalParent: "Evaluates the world based on internal values, but sometimes neglects them in favor of practicality",
            trickster: "Organizes and structures the world based on external logic, but may ignore emotional nuances",
            demon: "Focuses on internal visions and insights, but may have difficulty trusting them or integrating them"
          }
        },
        "ISFP": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Fi (Introverted Feeling)",
            "Step 2: F (Feeling) → Dominant function = Fi (Auxiliary will be Se, the extraverted counterpart of Feeling)",
            "Step 3: Tertiary Function = Ni (Introverted Intuition), opposite attitude of Dominant",
            "Step 4: Inferior Function = Te (Extraverted Thinking), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Fe (Extraverted Feeling), opposite attitude of Dominant",
            "Critical Parent: Si (Introverted Sensing), opposite attitude of Auxiliary",
            "Trickster: Ne (Extraverted Intuition), opposite attitude of Tertiary",
            "Demon: Ti (Introverted Thinking), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Fi",
            auxiliary: "Se",
            tertiary: "Ni",
            inferior: "Te",
            opposing: "Fe",
            criticalParent: "Si",
            trickster: "Ne",
            demon: "Ti"
          },
          explanations: {
            dominant: "Evaluates the world based on internal values, shaping a deep sense of personal integrity",
            auxiliary: "Takes in immediate sensory data from the world, responding with an artistic, spontaneous approach",
            tertiary: "Focuses on internal visions and insights, seeking depth in understanding concepts and ideas",
            inferior: "Organizes and structures the external world using logical frameworks, but often feels uncomfortable doing so",
            opposing: "Considers external emotions and social dynamics, but may struggle with engaging deeply with them",
            criticalParent: "Remembers past experiences and draws on sensory memory, but can be too focused on the present moment",
            trickster: "Seeks possibilities, patterns, and connections externally but may not trust or engage with them easily",
            demon: "Analyzes the world based on internal logic but struggles to rely on or apply this thinking process effectively"
          }
        },
        "INFJ": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Ni (Introverted Intuition)",
            "Step 2: N (Intuition) → Dominant function = Ni (Auxiliary will be Fe, the extraverted counterpart of Intuition)",
            "Step 3: Tertiary Function = Ti (Introverted Thinking), opposite attitude of Dominant",
            "Step 4: Inferior Function = Se (Extraverted Sensing), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ne (Extraverted Intuition), opposite attitude of Dominant",
            "Critical Parent: Fi (Introverted Feeling), opposite attitude of Auxiliary",
            "Trickster: Te (Extraverted Thinking), opposite attitude of Tertiary",
            "Demon: Si (Introverted Sensing), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ni",
            auxiliary: "Fe",
            tertiary: "Ti",
            inferior: "Se",
            opposing: "Ne",
            criticalParent: "Fi",
            trickster: "Te",
            demon: "Si"
          },
          explanations: {
            dominant: "Focuses on internal visions and insights, deeply considering abstract concepts and future possibilities",
            auxiliary: "Considers external emotions and social dynamics, helping others navigate relationships with compassion",
            tertiary: "Analyzes the world based on internal logic, seeking to refine and make sense of their intuitive insights",
            inferior: "Takes in immediate sensory data from the world but may feel overwhelmed by the present moment",
            opposing: "Seeks possibilities, patterns, and connections externally, but often dismisses them as less valuable",
            criticalParent: "Evaluates the world based on internal values, but may struggle to assert those values in social contexts",
            trickster: "Organizes and structures the external world based on logic, but may struggle with perfectionism or over-control",
            demon: "Remembers past experiences and draws on sensory memory, but may overlook or discount sensory information"
          }
        },
        "INFP": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Fi (Introverted Feeling)",
            "Step 2: F (Feeling) → Dominant function = Fi (Auxiliary will be Ne, the extraverted counterpart of Feeling)",
            "Step 3: Tertiary Function = Si (Introverted Sensing), opposite attitude of Dominant",
            "Step 4: Inferior Function = Te (Extraverted Thinking), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Fe (Extraverted Feeling), opposite attitude of Dominant",
            "Critical Parent: Ni (Introverted Intuition), opposite attitude of Auxiliary",
            "Trickster: Se (Extraverted Sensing), opposite attitude of Tertiary",
            "Demon: Ti (Introverted Thinking), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Fi",
            auxiliary: "Ne",
            tertiary: "Si",
            inferior: "Te",
            opposing: "Fe",
            criticalParent: "Ni",
            trickster: "Se",
            demon: "Ti"
          },
          explanations: {
            dominant: "Evaluates the world based on internal values, shaping a deep sense of personal integrity",
            auxiliary: "Seeks possibilities, patterns, and connections externally, approaching life with curiosity and adaptability",
            tertiary: "Remembers past experiences and draws on sensory memory, but often focuses on the bigger picture instead",
            inferior: "Organizes and structures the external world using logical frameworks, but struggles to fully apply this method",
            opposing: "Considers external emotions and social dynamics but finds it difficult to engage with them directly",
            criticalParent: "Focuses on internal visions and insights, but may overlook important details in the process",
            trickster: "Takes in immediate sensory data from the world but may feel overwhelmed or distracted by it",
            demon: "Analyzes the world based on internal logic but may feel disconnected from it at times"
          }
        },
        "ESTJ": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Te (Extraverted Thinking)",
            "Step 2: T (Thinking) → Dominant function = Te (Auxiliary will be Si, the introverted counterpart of Thinking)",
            "Step 3: Tertiary Function = Ne (Extraverted Intuition), opposite attitude of Dominant",
            "Step 4: Inferior Function = Fi (Introverted Feeling), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ti (Introverted Thinking), opposite attitude of Dominant",
            "Critical Parent: Se (Extraverted Sensing), opposite attitude of Auxiliary",
            "Trickster: Ni (Introverted Intuition), opposite attitude of Tertiary",
            "Demon: Fe (Extraverted Feeling), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Te",
            auxiliary: "Si",
            tertiary: "Ne",
            inferior: "Fi",
            opposing: "Ti",
            criticalParent: "Se",
            trickster: "Ni",
            demon: "Fe"
          },
          explanations: {
            dominant: "Organizes and structures the external world, creating practical solutions based on efficiency",
            auxiliary: "Remembers past experiences and draws on sensory information to create concrete solutions",
            tertiary: "Seeks possibilities, patterns, and connections externally, often in an exploratory way",
            inferior: "Evaluates the world based on internal values, but may struggle to express or access these emotions",
            opposing: "Analyzes the world based on internal logic, but may become overly critical of their own thinking",
            criticalParent: "Takes in immediate sensory data from the world, but may find it distracting or overwhelming",
            trickster: "Focuses on internal visions and insights, but may struggle to trust them due to their dominant function",
            demon: "Considers external emotions and social dynamics, but may suppress or ignore them when making decisions"
          }
        },
        "ESTP": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Se (Extraverted Sensing)",
            "Step 2: S (Sensing) → Dominant function = Se (Auxiliary will be Ti, the introverted counterpart of Sensing)",
            "Step 3: Tertiary Function = Fe (Extraverted Feeling), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ni (Introverted Intuition), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Si (Introverted Sensing), opposite attitude of Dominant",
            "Critical Parent: Te (Extraverted Thinking), opposite attitude of Auxiliary",
            "Trickster: Fi (Introverted Feeling), opposite attitude of Tertiary",
            "Demon: Ne (Extraverted Intuition), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Se",
            auxiliary: "Ti",
            tertiary: "Fe",
            inferior: "Ni",
            opposing: "Si",
            criticalParent: "Te",
            trickster: "Fi",
            demon: "Ne"
          },
          explanations: {
            dominant: "Takes in immediate sensory data from the world, making them keenly aware of their environment",
            auxiliary: "Organizes and structures the external world with a focus on logic and analysis",
            tertiary: "Considers external emotions and social dynamics, but often focuses more on logic than feelings",
            inferior: "Focuses on internal visions and insights, but struggles to trust or develop this function",
            opposing: "Remembers past experiences and draws on sensory memory but prefers immediate, new experiences",
            criticalParent: "Organizes and structures the external world using logical frameworks but struggles with emotional engagement",
            trickster: "Evaluates the world based on internal values, but often ignores or downplays personal feelings",
            demon: "Seeks possibilities, patterns, and connections externally, but may struggle with the pressure to adapt"
          }
        },
        "ESFJ": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Fe (Extraverted Feeling)",
            "Step 2: F (Feeling) → Dominant function = Fe (Auxiliary will be Si, the introverted counterpart of Feeling)",
            "Step 3: Tertiary Function = Ne (Extraverted Intuition), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ti (Introverted Thinking), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Fi (Introverted Feeling), opposite attitude of Dominant",
            "Critical Parent: Se (Extraverted Sensing), opposite attitude of Auxiliary",
            "Trickster: Ni (Introverted Intuition), opposite attitude of Tertiary",
            "Demon: Te (Extraverted Thinking), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Fe",
            auxiliary: "Si",
            tertiary: "Ne",
            inferior: "Ti",
            opposing: "Fi",
            criticalParent: "Se",
            trickster: "Ni",
            demon: "Te"
          },
          explanations: {
            dominant: "Considers external emotions and social dynamics, focusing on how to maintain harmony and create connections with others",
            auxiliary: "Remembers past experiences and draws on sensory data, using this information to support practical and helpful solutions",
            tertiary: "Seeks possibilities, patterns, and connections externally, driven by ideas for future growth and exploration",
            inferior: "Evaluates the world based on internal logic, but often struggles to engage with this function effectively due to its underdevelopment",
            opposing: "Evaluates the world based on internal values and feelings, often hidden or underdeveloped, causing internal tension",
            criticalParent: "Takes in immediate sensory data, sometimes overwhelmed by the external environment and looking for concrete, factual information",
            trickster: "Focuses on abstract possibilities and patterns, but may dismiss or disregard this when making decisions",
            demon: "Organizes and structures the external world based on logic, but struggles to use this effectively when under stress"
          }
        },
        "ESFP": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Se (Extraverted Sensing)",
            "Step 2: S (Sensing) → Dominant function = Se (Auxiliary will be Fi, the introverted counterpart of Sensing)",
            "Step 3: Tertiary Function = Te (Extraverted Thinking), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ni (Introverted Intuition), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Si (Introverted Sensing), opposite attitude of Dominant",
            "Critical Parent: Fe (Extraverted Feeling), opposite attitude of Auxiliary",
            "Trickster: Ti (Introverted Thinking), opposite attitude of Tertiary",
            "Demon: Ne (Extraverted Intuition), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Se",
            auxiliary: "Fi",
            tertiary: "Te",
            inferior: "Ni",
            opposing: "Si",
            criticalParent: "Fe",
            trickster: "Ti",
            demon: "Ne"
          },
          explanations: {
            dominant: "Takes in immediate sensory data from the world and is highly aware of the external environment",
            auxiliary: "Evaluates the world based on internal values and emotions, but keeps them private and personal",
            tertiary: "Organizes and structures the external world using logical frameworks, but often focuses on personal needs",
            inferior: "Focuses on internal visions and insights but often struggles to trust or develop this function",
            opposing: "Remembers past experiences and draws on sensory memory, but often disregards them as less relevant",
            criticalParent: "Considers external emotions and social dynamics, but may struggle to express them freely",
            trickster: "Analyzes the world based on internal logic, often leading to conflicts with their natural approach",
            demon: "Seeks possibilities, patterns, and connections externally, but can feel overwhelmed or distracted by them"
          }
        },
        "ENFJ": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Fe (Extraverted Feeling)",
            "Step 2: F (Feeling) → Dominant function = Fe (Auxiliary will be Ni, the introverted counterpart of Feeling)",
            "Step 3: Tertiary Function = Se (Extraverted Sensing), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ti (Introverted Thinking), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Fi (Introverted Feeling), opposite attitude of Dominant",
            "Critical Parent: Ne (Extraverted Intuition), opposite attitude of Auxiliary",
            "Trickster: Si (Introverted Sensing), opposite attitude of Tertiary",
            "Demon: Te (Extraverted Thinking), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Fe",
            auxiliary: "Ni",
            tertiary: "Se",
            inferior: "Ti",
            opposing: "Fi",
            criticalParent: "Ne",
            trickster: "Si",
            demon: "Te"
          },
          explanations: {
            dominant: "Considers external emotions and social dynamics, focusing on how to maintain harmony and align with others' needs and values.",
            auxiliary: "Focuses on internal visions and insights, developing a deep understanding of patterns and connections to guide decision-making.",
            tertiary: "Takes in immediate sensory data from the world, often disregarded unless under stress or in crisis moments.",
            inferior: "Analyzes the world based on internal logic, but this function is underdeveloped, often leading to tension in decision-making.",
            opposing: "Evaluates the world based on internal values and feelings, but often keeps them hidden or suppressed, creating internal conflict.",
            criticalParent: "Seeks possibilities, patterns, and connections externally, often overlooking emotional factors or the subjective experience.",
            trickster: "Remembers past experiences and draws on sensory memory, but this function is unreliable and often ignored when needed.",
            demon: "Organizes and structures the external world, but struggles to engage effectively in the external world due to this function being underdeveloped."
          }
        },
        "ISTJ": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Si (Introverted Sensing)",
            "Step 2: S (Sensing) → Dominant function = Si (Auxiliary will be Te, the extraverted counterpart of Sensing)",
            "Step 3: Tertiary Function = Fi (Introverted Feeling), opposite attitude of Dominant",
            "Step 4: Inferior Function = Ne (Extraverted Intuition), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Se (Extraverted Sensing), opposite attitude of Dominant",
            "Critical Parent: Ti (Introverted Thinking), opposite attitude of Auxiliary",
            "Trickster: Fe (Extraverted Feeling), opposite attitude of Tertiary",
            "Demon: Ni (Introverted Intuition), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Si",
            auxiliary: "Te",
            tertiary: "Fi",
            inferior: "Ne",
            opposing: "Se",
            criticalParent: "Ti",
            trickster: "Fe",
            demon: "Ni"
          },
          explanations: {
            dominant: "Remembers past experiences and draws on sensory memory to understand the world, creating strong frameworks for how things should work",
            auxiliary: "Organizes and structures the external world, using logical frameworks to implement efficient, long-term solutions",
            tertiary: "Evaluates the world based on internal values and feelings, but often holds them in reserve, prioritizing practicality",
            inferior: "Seeks possibilities, patterns, and connections externally, but tends to avoid or undervalue this function in favor of structured, factual data",
            opposing: "Focuses on immediate sensory data from the world but often finds it distracting or overwhelming, preferring instead to focus on facts and established methods",
            criticalParent: "Analyzes the world based on internal logic, but may struggle to express or engage with it effectively in social situations",
            trickster: "Considers external emotions and social dynamics but may lack the understanding or desire to fully engage with them",
            demon: "Takes in immediate sensory data from the world, but may feel overwhelmed or distracted by it, preferring to focus on past experiences and data"
          }
        },
        "ISTP": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Ti (Introverted Thinking)",
            "Step 2: T (Thinking) → Dominant function = Ti (Auxiliary will be Se, the extraverted counterpart of Thinking)",
            "Step 3: Tertiary Function = Ni (Introverted Intuition), opposite attitude of Dominant",
            "Step 4: Inferior Function = Fe (Extraverted Feeling), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Te (Extraverted Thinking), opposite attitude of Dominant",
            "Critical Parent: Si (Introverted Sensing), opposite attitude of Auxiliary",
            "Trickster: Ne (Extraverted Intuition), opposite attitude of Tertiary",
            "Demon: Fi (Introverted Feeling), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ti",
            auxiliary: "Se",
            tertiary: "Ni",
            inferior: "Fe",
            opposing: "Te",
            criticalParent: "Si",
            trickster: "Ne",
            demon: "Fi"
          },
          explanations: {
            dominant: "Analyzes the world based on internal logic, striving for precision and efficiency in problem-solving",
            auxiliary: "Takes in immediate sensory data from the world, using it to engage with the environment and solve practical problems",
            tertiary: "Focuses on abstract patterns and deeper insights, but may not always rely on them due to a preference for present, concrete details",
            inferior: "Evaluates the world based on external emotions and social dynamics, though it can feel disconnected from these feelings",
            opposing: "Organizes and structures the external world, but may struggle with long-term planning or organizing on a larger scale",
            criticalParent: "Relies on sensory memory, but may feel overwhelmed or distracted by it, making it harder to stay focused on immediate tasks",
            trickster: "Seeks possibilities, patterns, and connections externally, but often disregards them in favor of the current moment and direct experience",
            demon: "Evaluates the world based on personal values and feelings, though this function is often ignored or suppressed"
          }
        },
        "INTP": {
          steps: [
            "Step 1: I (Introverted) → Dominant function = Ti (Introverted Thinking)",
            "Step 2: T (Thinking) → Dominant function = Ti (Auxiliary will be Ne, the extraverted counterpart of Thinking)",
            "Step 3: Tertiary Function = Si (Introverted Sensing), opposite attitude of Dominant",
            "Step 4: Inferior Function = Fe (Extraverted Feeling), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Te (Extraverted Thinking), opposite attitude of Dominant",
            "Critical Parent: Ni (Introverted Intuition), opposite attitude of Auxiliary",
            "Trickster: Se (Extraverted Sensing), opposite attitude of Tertiary",
            "Demon: Fi (Introverted Feeling), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ti",
            auxiliary: "Ne",
            tertiary: "Si",
            inferior: "Fe",
            opposing: "Te",
            criticalParent: "Ni",
            trickster: "Se",
            demon: "Fi"
          },
          explanations: {
            dominant: "Analyzes the world based on internal logic, seeking to understand systems, structures, and abstract ideas",
            auxiliary: "Seeks possibilities, patterns, and connections externally, driven by curiosity and exploration of new concepts",
            tertiary: "Relies on sensory details from past experiences, though this function is less developed compared to the dominant one",
            inferior: "Evaluates the world based on external emotions and social dynamics, but often avoids or struggles with engaging emotionally",
            opposing: "Organizes and structures the external world logically, but may resist rigid external systems due to a preference for flexibility",
            criticalParent: "Focuses on internal insights and intuition, though may sometimes struggle with translating these into concrete action",
            trickster: "Takes in sensory data from the world but may dismiss it or struggle to trust its relevance, leading to disengagement",
            demon: "Evaluates the world based on personal values and feelings, often hidden or repressed, leading to internal contradictions"
          }
        },
        "ENTJ": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Te (Extraverted Thinking)",
            "Step 2: T (Thinking) → Dominant function = Te (Auxiliary will be Ni, the introverted counterpart of Thinking)",
            "Step 3: Tertiary Function = Se (Extraverted Sensing), opposite attitude of Dominant",
            "Step 4: Inferior Function = Fi (Introverted Feeling), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ti (Introverted Thinking), opposite attitude of Dominant",
            "Critical Parent: Ne (Extraverted Intuition), opposite attitude of Auxiliary",
            "Trickster: Si (Introverted Sensing), opposite attitude of Tertiary",
            "Demon: Fe (Extraverted Feeling), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Te",
            auxiliary: "Ni",
            tertiary: "Se",
            inferior: "Fi",
            opposing: "Ti",
            criticalParent: "Ne",
            trickster: "Si",
            demon: "Fe"
          },
          explanations: {
            dominant: "Organizes and structures the external world, creating systems and strategies to achieve goals and results effectively",
            auxiliary: "Focuses on internal insights, patterns, and abstract concepts, using them to guide decisions and foresee future possibilities",
            tertiary: "Takes in immediate sensory data, but often prefers to focus on the big picture rather than the present moment or sensory details",
            inferior: "Evaluates the world based on internal values, but may have difficulty fully trusting and expressing their feelings in a meaningful way",
            opposing: "Analyzes the world based on internal logic, but often struggles with trusting their own logical conclusions or overanalyzes situations",
            criticalParent: "Seeks external patterns and possibilities, but may struggle to reconcile them with their internal vision of how things should be",
            trickster: "Relies on sensory memory and details, but may dismiss or ignore them as they focus on higher-level concepts and goals",
            demon: "Considers external emotions and social dynamics, but may feel overwhelmed or disconnected from them due to their dominant focus on efficiency"
          }
        },
        "ENFP": {
          steps: [
            "Step 1: E (Extraverted) → Dominant function = Ne (Extraverted Intuition)",
            "Step 2: N (Intuition) → Dominant function = Ne (Auxiliary will be Fi, the introverted counterpart of Intuition)",
            "Step 3: Tertiary Function = Te (Extraverted Thinking), opposite attitude of Dominant",
            "Step 4: Inferior Function = Si (Introverted Sensing), opposite attitude of Auxiliary",
            "Step 5: Shadow Functions derived as follows:",
            "Opposing Function: Ni (Introverted Intuition), opposite attitude of Dominant",
            "Critical Parent: Fe (Extraverted Feeling), opposite attitude of Auxiliary",
            "Trickster: Ti (Introverted Thinking), opposite attitude of Tertiary",
            "Demon: Se (Extraverted Sensing), opposite attitude of Inferior"
          ],
          functions: {
            dominant: "Ne",
            auxiliary: "Fi",
            tertiary: "Te",
            inferior: "Si",
            opposing: "Ni",
            criticalParent: "Fe",
            trickster: "Ti",
            demon: "Se"
          },
          explanations: {
            dominant: "Seeks possibilities, patterns, and connections externally, focusing on new ideas and future opportunities",
            auxiliary: "Evaluates the world based on internal values, exploring deep personal meanings and emotional connections",
            tertiary: "Organizes and structures the external world logically, preferring efficiency but may not always apply it consistently",
            inferior: "Remembers past experiences and draws on sensory memory, but often finds it difficult to engage with the present moment",
            opposing: "Focuses on internal visions and insights, but may dismiss them as less important compared to their dominant intuition",
            criticalParent: "Analyzes the world based on internal logic, but may struggle to fully connect with their feelings or external emotions",
            trickster: "Considers external emotions and social dynamics, but can feel overwhelmed or uncertain about how to respond to others' needs",
            demon: "Takes in immediate sensory data from the world, but often feels disconnected or distracted from physical experiences"
          }
        },
      };

      function generateFunctions(type) {
        const stepsElement = document.getElementById('steps');
        const functionsTable = document.getElementById('functionsTable');
        
        // Clear previous results
        stepsElement.innerHTML = '';
        functionsTable.style.display = 'none';

        // Check if the MBTI type exists in the functionMap 
        if (functionMap[type]) {
          const { steps, functions, explanations } = functionMap[type];

          // Display step-by-step breakdown
          steps.forEach(step => {
            stepsElement.innerHTML += `<div class="step">${step}</div>`;
          });

          const getExplanation = (func) => explanations[func] || "No explanation available";

          // Display functions in the table
          document.getElementById('dominant').textContent = functions.dominant;
          document.getElementById('dominantExplanation').textContent = explanations.dominant;
          document.getElementById('auxiliary').textContent = functions.auxiliary;
          document.getElementById('auxiliaryExplanation').textContent = explanations.auxiliary;
          document.getElementById('tertiary').textContent = functions.tertiary;
          document.getElementById('tertiaryExplanation').textContent = explanations.tertiary;
          document.getElementById('inferior').textContent = functions.inferior;
          document.getElementById('inferiorExplanation').textContent = explanations.inferior;
          document.getElementById('opposing').textContent = functions.opposing;
          document.getElementById('opposingExplanation').textContent = explanations.opposing;
          document.getElementById('criticalParent').textContent = functions.criticalParent;
          document.getElementById('criticalParentExplanation').textContent = explanations.criticalParent;
          document.getElementById('trickster').textContent = functions.trickster;
          document.getElementById('tricksterExplanation').textContent = explanations.trickster;
          document.getElementById('demon').textContent = functions.demon;
          document.getElementById('demonExplanation').textContent = explanations.demon;

          functionsTable.style.display = 'block';
        } else {
          stepsElement.innerHTML = '<div class="step">Please select a valid MBTI type.</div>';
          functionsTable.style.display = 'none';
        }
      }

      // Attach event listeners to buttons
      document.querySelectorAll('.button').forEach(button => {
        button.addEventListener('click', () => {
          generateFunctions(button.id);
        });
      });
    </script>

  </body>
</html>
